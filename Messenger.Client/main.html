<!DOCTYPE html>
<html>
    <head>
        <title>Messenger App. Version 0.2.0</title>
        <script type="text/javascript" src="js/rest.js"></script>
        <script type="text/javascript" src="js/mainActions.js"></script>
        <script type="text/javascript" src="js/jquery-1.7.1.min.js"></script>
        <!--<script type="text/javascript" src="../node_modules/easy-autocomplete/dist/jquery.easy-autocomplete.min.js"></script>-->
        <link rel="stylesheet" href="./css/mainStyles.css">
    </head>
    <body onload="OnLoad()" class="body">
        <!-- Панель с кнопками-->
        <div class="cmdPanel">
            <div class="divButtonChats" id="chats">
                <img class="icon" src="./img/chats.png" height="25px" width="25px" vspace="5px" hspace="5px" title="Чаты">
            </div>
            <div class="divButtonCreate" id="create">
                <img class="icon" src="./img/createChat.png" height="25px" width="25px" vspace="5px" hspace="5px" title="Создать чат">
            </div>
            <div class="divButtonFind">
                <img class="icon" src="./img/find.png" height="25px" width="25px" vspace="5px" hspace="5px" title="Поиск">
            </div>
            <div class="divButtonSettings">
                <img class="icon" src="./img/settings.png" height="25px" width="25px" vspace="5px" hspace="5px" title="Настройки"/>
            </div>
            <div class="divButtonPeople">
                <img class="icon" src="./img/people2.png" height="25px" width="25px" vspace="5px" hspace="6px" title="Пользователи">
            </div>
            <div class="divButtonLogout" id="divButtonLogout">
                <img class="icon" src="./img/logout.png" height="25px" width="25px" vspace="5px" hspace="6px" title="Выход">
            </div>
        </div>
        <!-- Сделать настройки -->
        <!-- Боковые панели -->
        <div class="slidePanelWrap">
            <div class="chatsPanel" align="center">
                <div style="color: rgb(64, 64, 179);">
                    <label class="label"><br/><h1>Чаты:</h1></label>
                </div>
                <div id="chatList">
                    <label class="label" style="color:#ffffff">Здесь пока нет ни одного чата:(</label>
                </div>
            </div>
            <div class="createPanel" align="center">
                <div style="color: rgb(64, 64, 179);" >
                    <label class="label"><br/><h1>Создать чат</h1></label>
                </div>
                <div id="divChatName" class="inputBox">
                    <label class="label" style="color:#ffffff">Название чата:<br/><br/></label>
                    <div>
                        <input class="createChatArea" id="txtChatName" class="textbox"  type="textbox" value="Testing chat"/>
                    </div>
                </div>
                <div id="divButtons">
                    <br/>
                    <input id="createButton" class="createChatArea" value="Создать чат" type="button" onclick="CreateChat()"/>
                </div>
            </div>
            <div class="findPanel" align="center">
                <div style="color: rgb(64, 64, 179);" >
                    <label class="label"><br/><h1>Поиск:</h1></label>
                </div>
                <input class="createChatArea" type="textbox" id="findString"><br/><br/>
                <button class="createChatArea" onclick="Find()">Найти</button>
                <div id="searchResults">
                </div>
            </div>
            <div class="settingsPanel" align="center">
                <div style="color: rgb(64, 64, 179);">
                    <label class="label"><br/><h1>Настройки:</h1><br/></label>
                    <div id="loginInfo" style="height:75px"></div>
                    <div align="center"onclick="DeleteProfile()"class="chatNodes" style="background-color:red;width:180px;height:50px;">
                        <label><br/>Удалить профиль:</label>      
                    </div>    
                </div>
            </div>
            <div class="peoplePanel" align="center">
                <div style="color: rgb(64, 64, 179);">
                    <label class="label"><br/><h1>Пользователи</h1></label>
                </div>
                <div id="chatProfiles">
                    <label style="color:#ffffff">Чат не выбран</label>
                </div>
            </div>
            <div class="logoutPanel" align="center">
                <div style="color: rgb(64, 64, 179);">
                    <label class="label"><br/><h1>Выход из сети</h1></label>
                    <label class="label">Вы уверены?<br/><br/></label>
                    <button class="createChatArea" style="display:inline" onclick="window.location='index.html'">Да</button>
                    <button class="createChatArea" style="display:inline" onclick="document.getElementById('divButtonLogout').click()">Вернуться</button>
                </div>
            </div>
            
            <input type="hidden" id="chatsHidden" value="false"/>
            <input type="hidden" id="findHidden" value="false"/>
            <input type="hidden" id="createHidden" value="false"/>
            <input type="hidden" id="logoutHidden" value="false"/>
            <input type="hidden" id="peopleHidden" value="false"/>
            <input type="hidden" id="settingsHidden" value="false"/>
        </div>
        <!-- Панель всплывающих сообщений -->
        <div class="popUp" id="popUp" style="z-index:99;visibility:hidden; height:40px; width:50vw; position:absolute; left:25vw; top:20px">
            <label id="popUpMessage"></label>
        </div>
        <!-- Сделать отображение файлов -->
        <!-- Панель чата -->
        <div class="dialogPanel" id="dialogPanel" style="padding-right:35px">
			<div class="dialogMeta" id="dialogMeta">
                <img src="./img/chatWithoutImage.png" height="25px" width="25px" vspace="5px" hspace="5px" style="display:inline-block"/>
                <label id="dialogName" class="dialogName" style="display:inline-block; margin-bottom:5px;"></label>
                <img src="./img/close.png" height="25px" width="25px" vspace="5px" hspace="5px" style="display:inline-block;position:absolute;" onclick="DeleteChatProfile()" class="divButton" title="Выйти из чата">
			</div>

            <div id="dialog" class="dialog">
            </div>

            <div class="messageBox" style="background-color:#202020;visibility:hidden;width:100%; height:49px; position:absolute; bottom:13px; left: 0px; min-width:765px" id="messageBox">
                <div id="preview" style="position:absolute;left:100px;height:110px;width:100px;resize:none;top:5px; bottom:5px;display:inline-block">
                </div>
                <div class="divButton" id="attachButton" style="background-color:#202020;width:35px;display:inline-block;position:absolute;bottom:5px;">
                    <label for="file-input">
                        <img class="icon" src="./img/attach.png" height="25px" width="25px" vspace="5px" hspace="4px" title="Прикрепить файл"/>
                    </label>
                    <input id="file-input" type="file" style="width:25px; height:25px"/>
                </div>
                <div>
                    <label style="color:#ffffff;position:absolute;left:5px;bottom:75px;width:100px;resize:none;display:inline-block">До удаления:<br/></label>
                    <input type="text" id="timer" style="position:absolute;left:5px;bottom:50px;width:30px;resize:none;display:inline-block"/>
                    <label style="color:#ffffff;position:absolute;left:45px;bottom:50px;width:30px;resize:none;display:inline-block">сек.</label>
                </div>
                <textarea class="messageArea" style="position:absolute;left:35px;resize:none;bottom:0;overflow:hidden; overflow-y: scroll; min-width:550px;height:39px; width:calc(100% - 120px)" id="messageArea"></textarea>
                <div class="divButton" id="sendButton" style="background-color:#202020;width:35px;display:inline-block; position:absolute; left:calc(100% - 70px);bottom:3px;" onclick="SendMessage();">
                    <img class="icon" src="./img/send.png" height="25px" width="25px" vspace="5px" hspace="5px" title="Отправить"/>
                </div>
            </div>
        </div>
        <input type="hidden" id="profileId" value=""/>
        <input type="hidden" id="chatId" value=""/>
        <input type="hidden" id="cache" value="Привет$"/>
        <input type="hidden" id="count" value="0"/>
    </body>
</html>